Video Reference：[尚硅谷新版Git快速入门](https://www.bilibili.com/video/BV1wm4y1z7Dg/?spm_id_from=333.999.0.0&vd_source=9560c118fae1db9638f05a6ba2527085)

Reference：https://blog.csdn.net/qq_62982856/article/details/126017842

基于新版Git，零基础小白也能快速入门，更直观地带你掌握Git基本功能，降低学习难度，缩减学习周期，深入了解Git指令操作。

# 1 Git 分布式版本控制工具软件

## 1.1 课程介绍

工具软件：

1. 下载软件：迅雷
2. 聊天软件：微信，腾讯QQ
3. 杀毒软件：360

Git 简单来说：Git是用来管理软件开发项目中的源代码文件。

Git 的操作都需要使用代码指令来进行实现的，拥有很多的丰富指令。只需要将 Git 工具的功能含义，操作的流程。

## 1.2 课程内容

1. 学习方式

图形演示＋操作

1. 常用功能

仓库管理、文件管理、分支管理，标签管理、远程操作

1. 进阶功能

使用开发工具来集成 Git 软件和访问 GitHub，Gitee这样的第三方代码托管平台

[ 第三方代码托管平台主要用于解决跨区域协同工作的问题，即项目代码不会保存到本地主机中，而是保存到远程的代码仓库 ]

1. 功能指令

```
add, commit, log, branch, tag, remote, status
```

## 1.3 为什么要学习 Git 软件

主流开发中，基于互联网开发的项目都是会使用 Git 软件来进行项目开发的资源管理

资源管理：

- 人力资源
- 代码资源(`.html, .css, .js, .java, .py, .c`)
- 文档资源`doc, ppt, xls, img, pdf, zip`)

### 1.3.1 SCM 概述

软件配置管理 Software Configuration Management

软件配置管理(SCM)是指通过执行版本控制、变更控制的规程，以及使用合适的配置管理软件，来保证所有配置项的完整性和可跟踪性。配置管理是对工作成果的一种有效保护。SCM 是可以自动帮助开发人员生成代码的版本。

SCM（Software Configuration Management，软件配置管理）是一种标识、组织和控制修改的技术。它应用于整个软件生存周期。

作为评价一个大中型软件开发过程是否正确，合理，有效的重要手段，CMM(Capability Maturity Model )能力成熟度模型提供了不同等级的标准流程，对软件开发过程（流程）进行了约束和建议, 而作为CMM 2级的一个关键域（Key Practice Area，KPA），SCM软件在整个软件的开发活动中占有很重要的位置。

Git软件比Subversion、CVS、Perforce和ClearCase等SCM（Software Configuration Management软件配置管理）工具具有性价比更高的本地分支、方便的暂存区域和多个工作流等功能。

### 1.3.2 SCM 软件的种类

Visual Source Safe：美国微软公司出品的版本控制系统，简称VSS。集中式版本控制系统。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1681739569012-bb725884-2a44-4643-9958-fa6c2beb5253.png)

Concurrent Versions System：老牌的版本控制系统，它是基于客户端/服务器的行为使得其可容纳多用户，构成网络也很方便，简称为CVS

Subversion：开放源代码的版本控制系统，简称SVN，通过采用分支管理系统的高效管理，简而言之就是用于多个人共同开发同一个项目，实现共享资源，实现最终集中式的管理

![img](https://cdn.nlark.com/yuque/0/2023/jpeg/2555283/1681739711882-62dc2862-4e09-48a2-9b7c-529a2e6ca477.jpeg)

Git：开源的分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理。也是Linus Torvalds为了帮助管理Linux内核开发而开发的一个开放源码的版本控制软件

![img](https://cdn.nlark.com/yuque/0/2023/jpeg/2555283/1681739759813-c487aa86-6985-4b5a-a265-05e098e1abfb.jpeg)

IBM Rational：公司的旗舰产品之一，是全球领先的软件配置管理工具，它广泛地应用于众多的企业级软件工程实践之中，拥有众多的企业级用户。

PERFORCE：一款非常优秀的商业化版本管理工具,特别是对美术资源比较友好,更新速度快安全

# 2 Git 概念

版本：分为软件版本，文件版本

- 软件版本：

软件版本：包含两种不同含义

1. 为满足不同用户的不同使用要求，如适用于不同运行环境或不同平台的系列产品。
2. 软件产品投入使用以后，经过一段时间运行提出了变更的要求，需要做较大的修正或纠错，增强功能或提高性能。

- - JDK：1.8，17，20
  - MySQL：5.7，8.0
  - IDEA：2022，2023

- Alpha版（内部测试版）：

[Alpha版本](https://baike.baidu.com/item/Alpha版本?fromModule=lemma_inlink)通常会送交到开发软件的组织或社群中的各个软件测试者，用作内部测试。在市场上，越来越多公司会邀请外部的客户或合作伙伴参与其软件的[Alpha测试](https://baike.baidu.com/item/Alpha测试?fromModule=lemma_inlink)阶段。这令软件在此阶段有更大的[可用性测试](https://baike.baidu.com/item/可用性测试/3466978?fromModule=lemma_inlink)。

在测试的第一个阶段中，开发者通常会进行[白盒测试](https://baike.baidu.com/item/白盒测试?fromModule=lemma_inlink)。其他测试会在稍后时间由其他测试团体以[黑盒](https://baike.baidu.com/item/黑盒?fromModule=lemma_inlink)或[灰盒](https://baike.baidu.com/item/灰盒?fromModule=lemma_inlink)技术进行，不过有时会同时进行。

- Beta版（外部测试版）：

软件开发公司为对外宣传，将非正式产品免费发送给具有典型性的用户，让用户测试该软件的不足之处及存在问题，以便在正式发行前进一步改进和完善 。一般可通过Internet免费下载，也可以向软件公司索取。

**Beta**版本是第一个对外公开的软件版本，是由公众参与的测试阶段。一般来说，[Beta](https://baike.baidu.com/item/Beta/640969?fromModule=lemma_inlink)包含所有功能，但可能有一些已知问题和较轻微的[臭虫](https://baike.baidu.com/item/臭虫?fromModule=lemma_inlink)（[Bug](https://baike.baidu.com/item/Bug/3353935?fromModule=lemma_inlink)）。

[Beta版本](https://baike.baidu.com/item/Beta版本?fromModule=lemma_inlink)的测试者通常是开发软件的组织的客户，他们会以免费或优惠价钱得到软件，但会成为组织的免费测试者。

Beta版本主要测试产品的支援和市场反应（在邀请Beta用户时）等。

- Demo版（演示版）：主要是演示正式软件的部分功能，用户可以从中得知软件的基本操作，为正式产品的发售扩大影响。如果是游戏的话，则只有一两个关卡可以玩。该版本也可以从Internet上免费下载。

- Free版（自由版）：这一般是个人或自由软件联盟组织的成员制作的软件，希望免费给大家使用，没有版权，一般也是通过Internet免费下载。
- Release版（发行版）：稳定的发行版，可从Internet上免费下载。

**Release Candidate**（简称**RC**）指可能成为最终产品的版本，如果没有再出现问题则可释出正式版本。在此阶段，产品包含所有功能亦不会出现严重问题。通常此阶段的产品是接近完整的。

- Upgrade版（升级版）：当你有某个软件以前的正式版本时，可以购买升级版，将你的软件升级为最新版。升级后的软件与正式版在功能上相同，但价格会低些，这主要是为了给原有的正版用户提供优惠。
- **Plus版** 属增强版，不过这种大部分是在程序界面及多媒体功能上增强。
- **Preview版** 预览版，软件作者为了满足那些对新版本很关注的人，发布的可以看到大部分功能的测试软件。
- **Corporation & Enterprise版** 企业版，只针对企业发布的全功能版本，价格比较昂贵，服务非常齐全。
- **Standard版** 标准版，软件商推荐大家使用的版本，这种版本一般比较稳定，BUG少。
- **Mini版** 迷你版也叫精简版只有最基本的功能，为那些想节省硬盘空间或者不追求华丽的人准备的。
- Professional——专业版

- 文件版本：通常指软件程序发行的次数版本号。其作用是为了保存重要的历史记录，并且可以进行恢复数据。

------

版本控制软件的基础功能：

1. 保存和管理文件

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1681838660430-dda06d30-3fe3-4631-b9e1-7801ba29d111.png)

1. 提供客户端工具进行访问

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1681838654330-e2466bf3-ec32-412e-80a2-347f802ec494.png)

1. 提供不同版本文件的比对功能

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1681838748614-5639d3df-7ffa-414a-8230-746a096b4c40.png)

------

集中式版本控制：

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682007987371-aee98d44-5146-481e-b48c-785a4d1dc480.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682008004147-f38b4a85-c23b-4930-add5-750a07ea1219.png)

分布式版本控制：

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682007941496-5b9dd02b-d913-4b28-b426-df5dd5a0af44.png)

# 3 Git 客户端

## 3.1 Git 安装

Git 官网地址：https://git-scm.com/

Git GUI 下载地址：https://git-scm.com/downloads/guis

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682008077292-f867e4d8-88b0-48f3-8a6b-0f5f6c284a54.png)

Git是一个免费的，开源的分布式版本控制系统，可以快速高效地处理从小型或大型的各种项目。Git易于学习，占用空间小，性能快得惊人。

当执行出现Git软件双击没反应，用户可以右键以管理员身份运行软件。

最早Git是在Linux上开发的，很长一段时间内，Git也只能在Linux和Unix系统上跑。不过，慢慢地有人把它移植到了Windows上。现在，Git可以在Linux、Unix、Mac和Windows这几大平台上正常运行了。由于开发机大多数情况都是windows，所以本教程选择相对简单的Windows系统软件版本进行下载，此处我们下载Windows系统的2.40.0版本软件

### 软件安装

Git软件安装的步骤虽然比较多，但是整个安装过程还是比较简单的，双击exe执行文件，按照引导界面的提示安装即可

点击Next下一步，选择安装目录，默认安装在c盘中

点击Next下一步，选择组件，此处默认即可

点击Next下一步，配置启动菜单，此处默认即可

点击Next下一步，配置编辑器工具，这里选择自己习惯的编辑工具即可。

后续就不需要进行什么特殊配置了，所以连续默认选择Next下一步即可。

### 1.3.3 软件测试

在Windows桌面空白处，点击鼠标右键，弹出右键菜单

Git软件安装后，会在右键菜单中增加两个菜单

l  Git GUI Here

l  Git Bash Here

此处仅仅是为了验证Git软件安装的效果，所以选择Git Bash Here菜单, 选择后，Windows系统弹出Git软件的命令行黑窗口，

窗口弹出后，可以输入Git软件的操作指令。此时我们使用键盘输入操作指令：git -v或 git --version，查看当前Git软件的安装版本。

```
git -v
git --version
```

输入指令回车后，如果黑窗口中打印出咱们安装的软件版本2.40.0，Git软件安装成功了。

## 💫3.2 GitHub Desktop 使用

### 3.2.1 GitHub Desktop 介绍

GitHub Desktop 是一个可让您使用 GUI 而非命令行或网络浏览器与 GitHub 交互的应用程序。 GitHub Desktop 鼓励您和您的团队使用最佳实践协作处理 Git 和 GitHub。 您可以使用 GitHub Desktop，通过视觉确认更改从桌面完成大部分 Git 命令。 您可以使用 GitHub Desktop 推送到、从中拉取和克隆远程仓库，以及使用协作工具，如归因提交和创建拉取请求。

GitHub Desktop 还提供了一个与 GitHub 网站相集成的功能，使你可以直接在桌面上查看和发布 pull request、查看问题和讨论、查看代码片段和文档等。

GitHub Desktop 还支持多语言，包括中文。你可以在 GitHub 网站上下载并安装它

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682009175083-819bd7bd-f9c1-444f-8c51-80448fedcad3.png)

### 3.2.2 仓库操作

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682181248804-a29f7597-7a95-4c0a-a69a-6a0071ecdd9f.png)

设置仓库的详细信息

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682181789197-cdd9e2cc-9b41-45a2-9348-bd48a67f3f2f.png)

- 可以创建多个本地仓库

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682181881678-2d9a0f83-02eb-4e0a-abe4-082634dfd9df.png)

- GitHub Desktop 的界面显示功能

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682181671058-97319bbe-24ce-41a8-97e7-98834a1449dd.png)

### 3.2.3 文件操作

可以识别Git仓库路径下的文件，可以实现对文件以及文件内容的动态识别。即仓库路径根目录下有隐藏目录`.git`来识别该仓库的文件变化。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682182269637-11fc35c8-db26-4377-8923-9d4014fb870c.png)

Git 文件操作的架构图[ `40`个`16进制`的数字组成的版本号：提交码 ]

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682182513551-3be51f31-78d2-4111-995c-27a68563d5da.png)

使用 GitHub Desktop 查看版本控制管理

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682182820028-11d2e678-ba55-46dd-b197-4a8433d7c3d0.png)

若将本地文件的进行删除了，需要再一次 Commit 提交改变，使得 Git 获取新的信息。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682182915613-92393145-d7ef-4310-862f-8cfeb006de11.png)

GitHub Desktop 提交改变

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682182969870-904d1bdf-c044-48f2-af22-e07f8544e7a0.png)

### 3.2.4 分支管理

多人协作流程的情况

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682854404359-01654cad-9ab8-4262-8937-49551fcbcfb5.png)

使用 GitHub Desktop 创建新的仓库

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682854456699-901078c3-bb41-47fc-9025-a35b8b3d1b81.png)

使用 GitHub Desktop 创建新的分支

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682854634200-cfa36794-4444-4941-b7d3-923016f32f77.png)

- 选择 user 分支后，进入到相应的仓库目录下，创建 user.txt 文件，并输入相应的文件内容。并提交到 Git 本地仓库

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858084605-4e25b3a3-c791-43d1-9b47-2246c026139a.png)

- 选择 order 分支后，进入到相应的仓库目录下，创建 order.txt 文件，并输入相应的文件内容。并提交到 Git 本地仓库

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858224345-ff00073b-e058-4161-8a0b-7b8bd136c753.png)

- 将分支库合并到`main`主库中

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858309264-b9f74174-9ff8-4dae-99c8-ba67b6c1134f.png)

- 将 user 分支库和 order 分支库均合并到主库当中，并查看主库的文件列表

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858352234-6bda194b-7ea7-4d8d-87f1-c343561acec2.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858394455-2a46e156-0e22-4521-84d8-9ed5cd4a263c.png).

若两个分支当中出现相同的文件，Git 会如何处理呢？

- 在 user 分支库和 order 分支库均创建 `common.txt` 文件，并分别进行提交到主库。

```shell
echo 'user common page' > common.txt
echo 'order common page' > common.txt
```

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858709572-6a9b1ef8-4bf3-4a61-b1aa-115bf84190e6.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858739377-5e847c3c-fda3-4b84-afe2-c6d15e7b3cff.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858780301-a5cfc8e3-deb4-4e0c-9315-a091435c0bbb.png)

最后的 common.txt 文件内容

```bash
user common page
order common page
```

### 3.2.5 标签

使用 GitHub Desktop 进行Git历史记录添加标签

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682858954315-2f217e70-a201-4e42-9cc6-883a9b34b4e0.png)

使用 GitHub Desktop 进行Git历史记录删除标签

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682859040365-8e0307ce-3db5-45fc-b0cd-53a6ee999dcc.png)

### 3.2.6 远程仓库

#### 3.2.6.1 GitHub

GitHub于2008年4月10日正式上线，除了[Git](https://baike.baidu.com/item/Git/12647237?fromModule=lemma_inlink)代码仓库托管及基本的Web管理界面以外，还提供了订阅、[讨论组](https://baike.baidu.com/item/讨论组/9705078?fromModule=lemma_inlink)、文本渲染、在线文件编辑器、协作图谱（报表）、代码片段分享（[Gist](https://baike.baidu.com/item/Gist/3204796?fromModule=lemma_inlink)）等功能。截止到2022-11-17，其[注册用户](https://baike.baidu.com/item/注册用户/56579864?fromModule=lemma_inlink)已经超过9400万，托管版本数量也是非常之多，其中不乏知名开源项目[Ruby](https://baike.baidu.com/item/Ruby/11419?fromModule=lemma_inlink) on Rails、[jQuery](https://baike.baidu.com/item/jQuery/5385065?fromModule=lemma_inlink)、[python](https://baike.baidu.com/item/python/407313?fromModule=lemma_inlink)等。

2018年6月4日，[微软](https://baike.baidu.com/item/微软/124767?fromModule=lemma_inlink)宣布，通过75亿美元的股票交易收购代码托管平台GitHub。

官网地址：https://github.com/

- 登录 Github 仓库，创建代码仓库后进行网页的创建文件，修改文件，提交文件，删除文件以及删除代码仓库。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682859419494-44be1f5b-8810-4e7f-b9da-73728b30343f.png)

- 使用 Github Desktop 进行GitHub的账号关联，然后将代码仓库进行拉取。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682859811480-57946f62-e417-4ebb-bd49-08dd2a0ba137.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682859868586-1c432655-24cc-4578-91f6-b69a6ee2a9fb.png)

- Clone 克隆完毕之后，对项目代码进行增加文件，后进行提交文件。

```shell
echo 'remote-test page' > remote-test.txt
```

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682860014390-2b3b9a74-0911-4b5e-ace8-aaa8ae856946.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682860057324-8176d2c4-9ac9-41d6-9aa0-0f4d590703c1.png)

- GitHub 的代码仓库就可以看到最新增加的文件了。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682860068137-d343c0b6-b68e-4bdc-9e16-b25c239501f3.png)

#### 3.2.6.2 Gitee

Gitee 是[开源中国](https://baike.baidu.com/item/开源中国/5462428?fromModule=lemma_inlink)（OSChina）推出的基于Git的代码托管服务。Gitee 是开源中国社区2013年推出的基于 Git 的代码托管服务，目前已经成为国内知名的代码托管平台，致力于为国内开发者提供优质稳定的托管服务。

Gitee 包括三个版本，分别是：社区版、企业版和高校版。Gitee 除了提供最基础的 Git 代码托管之外，还提供代码在线查看、历史版本查看、Fork、Pull Request、打包下载任意版本、Issue、Wiki 、保护分支、代码质量检测、PaaS项目演示等方便管理、开发、协作、共享的功能。

官网地址：https://gitee.com/

### 3.2.7 README IGNORE

GitHub Desktop 客户端工具是具有比对功能的，但是图片、文档、压缩包等这些文件是无法进行比对。Git 本质上是代码文件版本控制。

- README：一般出现在 Git 仓库的根目录中，作用就是对仓库里面存储的资源信息的描述，即需要对README文件进行相应的维护，当其他人需要获取仓库的内容之时，可以通过README文件的描述信息快速的了解仓库中的资源信息[ Git 推荐开发人员增加README文件并进行后期的维护 ]
- IGNORE：在实际的软件开发环境当中，有一些本地化的配置文件，完全可以不用提交到仓库当中，直接忽略掉即可

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682862682530-4d216e16-523f-4b87-a144-952aafb5ae75.png)

### 3.2.8 文件图标和比对功能

- 在仓库中新建两个文件即可，后进行提交本地仓库

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682863103988-e8c84127-4066-47e9-acae-4b5ded480360.png)

- 对`testpage.txt`文件进行删除，对`testpage-v1.txt`进行修改；并创建新文件`testpage-v2.txt`

```shell
echo 'testpage-v1.txt' > testpage-v1.txt

echo 'testpage-v2.txt' > testpage-v2.txt
```

- 绿色：新建，黄色：修改，红色：删除

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682863313782-a9763dde-f7dc-4c27-9593-bdc521c3b0d9.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682863417510-c580c97a-ef5d-418e-9b7b-7584dba82b62.png)

# 4 Git 集成

## 4.1 IDEA 集成 GitHub

- 创建空项目，并取消勾选"创建 Git 仓库"

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682942007462-3747c01e-3154-402d-a275-58e760ac4000.png)

- 在添加一个`git.txt`，并添加文件内容，在IDEA中的VCS中选择"在 GitHub 上共享项目"

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682942121518-052bb2b8-152d-4b8e-9870-3cd41faa47b3.png)

- 添加GitHub 用户账号，GitHub授权完毕后，就可以使用授权的账号进行使用。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682942248866-19bb5106-66bb-4362-b7bc-a6f6c01770d4.png)

- 进行一次初始化的提交，可以在 GitHub官网 中查看到推送到项目情况

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682942318746-288b23c8-c84e-4c99-ad7b-c983cc4c0a6e.png)

- 后续就可以实现代码的变更提交并推送，以及GitHub代码仓库发生改变，IDEA进行拉取最新代码的操作。
- 在 IDEA Git 选项卡中的`克隆Clone`可以查看到GitHub账号绑定下的代码项目仓库。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682945541208-f0060035-660d-48a1-a648-234a4d4d6534.png)

## 4.2 IDEA 集成 Gitee

- 创建空项目，并取消勾选"创建 Git 仓库"

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682944772576-17582b54-ffca-4041-8e19-a2e08b8b7d6d.png)

- 在添加一个`gitee.txt`，并添加文件内容，在IDEA中的安装对应的`Gitee`插件，在IDEA中的VCS中选择"Share Project on Gitee"

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682944936883-68d0149d-edcf-492f-834c-3fc06e1797d1.png)

- 添加Gitee 用户账号，Gitee 授权完毕后，就可以使用授权的账号进行使用。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682945019674-452dbafe-a321-48ae-b878-cb898c256e1e.png)

- 进行一次初始化的提交，可以在 Gitee官网 中查看到推送到项目情况

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682945053958-8affed44-eaef-488f-883b-661a86ce544c.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682945091955-024aac7e-b9e3-47e0-bb28-d83577433218.png)

- 后续就可以实现代码的变更提交并推送，以及Gitee代码仓库发生改变，IDEA进行拉取最新代码的操作。
- 在 IDEA Git 选项卡中的`克隆Clone`可以查看到Gitee账号绑定下的代码项目仓库。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1682945442146-593e28b9-ff3c-45fc-bd77-079a952279f6.png)

# 💫5 Git 版本号

## 5.1 介绍

Git 历史记录：Git 会把开发人员每一次的提交会记录下来，并形成历史记录，每一次的提交都会生成一次版本号

Git 版本号：根据提交的内容进行SHA-1的算法，长度是40位16机制的数字 | 字符串，重复的可能性是非常低的。并且可以定位仓库中的文件。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683038943196-c8695149-7987-4a8c-9406-c97ea8827697.png)

定位仓库中的文件：2( 当作是文件夹 ) + 38( 当作是文件名 )

Git 的版本号：除了可以在合并的时候避免版本的冲突，还可以定位仓库中的文件位置。

## 5.2 文件操作

- 创建新的测试仓库`local_test_3`，并且可以查看到拥有一个初始化的版本号

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683039447666-83fbc5c7-0cbc-44d6-9e25-46b111253424.png)

- 可以在底层文件资源器可以查看到有相应的文件，需要使用 Git 的命令来查看该文件 

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683040379387-dfb014fe-c89f-4e4f-a943-e0023c7c917c.png)

```shell
# cat-file： 查看文件
# -p： 友好的查看文件
$ git cat-file -p [版本号]
Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p 54e3116e8dc67f1143d0abeb8f455efea6e40578
tree 6f9509c88bed7080d496fc5e1d87a9315e30549d
author 935523993 <935523993@qq.com> 1683039419 +0800
committer 935523993 <935523993@qq.com> 1683039419 +0800

Initial commit

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p 6f9509c88bed7080d496fc5e1d87a9315e30549d
100644 blob dfe0770424b2a19faf507a501ebfc23be8f54e7b    .gitattributes
# 100 指的是普通文件
# 644 指的是文件|目录的权限
# blob 指的是普通的文件块对象
# dfe0770424b2a19faf507a501ebfc23be8f54e7b 是版本号对象
# .gitattributes 文件

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p dfe0770424b2a19faf507a501ebfc23be8f54e7b
# Auto detect text files and perform LF normalization
* text=auto

# 54e3116e8dc67f1143d0abeb8f455efea6e40578 是提交信息
# 6f9509c88bed7080d496fc5e1d87a9315e30549d 是文件状态：存储的是文件的权限，文件的属性，文件内容指向
# dfe0770424b2a19faf507a501ebfc23be8f54e7b 是文件内容
```

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683040944015-5b781fa6-a2c1-41dd-b6f9-6b1c02d88143.png)

- 在仓库中下编写一个`git_test.txt`文件，并提交到本地仓库中，形成一个版本号。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683041970195-05f9ac53-b04e-4aed-92cd-02bcbc72f527.png)

```shell
Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p 8aeeb034e47506af8ba91f3daf78177de23c9f60
tree a174abc5c7232f6a7ef2e053a80eeebb732965b1
parent 54e3116e8dc67f1143d0abeb8f455efea6e40578
author 935523993 <935523993@qq.com> 1683041960 +0800
committer 935523993 <935523993@qq.com> 1683041960 +0800

Create git_test.txt
# parent 指的是上一次提交的版本号

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p a174abc5c7232f6a7ef2e053a80eeebb732965b1
100644 blob dfe0770424b2a19faf507a501ebfc23be8f54e7b    .gitattributes
100644 blob 7cb3e23e2481951b78950715a7bb0f3bb14d2b4a    git_test.txt
```

- 在仓库中下修改更新一个`git_test.txt`文件，并提交到本地仓库中，形成一个版本号。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683042600208-d1acf73c-a44d-40a4-a7a2-e735791fbaa0.png)

```shell
Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p efac14945e9f20f8ec7ce3b1f3fa3b85b6150f5a
tree d42cf81c429095dab4e8a42be8414ae1db30eeb4
parent 8aeeb034e47506af8ba91f3daf78177de23c9f60
author 935523993 <935523993@qq.com> 1683042349 +0800
committer 935523993 <935523993@qq.com> 1683042349 +0800

Update git_test.txt

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p d42cf81c429095dab4e8a42be8414ae1db30eeb4
100644 blob dfe0770424b2a19faf507a501ebfc23be8f54e7b    .gitattributes
100644 blob 8c2eabfec094a18e9a3b2ad1ab2e14dade572d9f    git_test.txt

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p 8c2eabfec094a18e9a3b2ad1ab2e14dade572d9f
git page test v1
git page test v2
```

- 在仓库中下删除一个`git_test.txt`文件，并提交到本地仓库中，形成一个版本号。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683042584026-a3e61218-a070-4925-a56b-4ec5fa82c289.png)

```shell
Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p d2783e2529dbc2dd4a6c1a9317ab0294e2c22eb0
tree 6f9509c88bed7080d496fc5e1d87a9315e30549d
parent efac14945e9f20f8ec7ce3b1f3fa3b85b6150f5a
author 935523993 <935523993@qq.com> 1683042558 +0800
committer 935523993 <935523993@qq.com> 1683042558 +0800

Delete git_test.txt

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local_test_3 (main)
$ git cat-file -p 6f9509c88bed7080d496fc5e1d87a9315e30549d
100644 blob dfe0770424b2a19faf507a501ebfc23be8f54e7b    .gitattributes

# Git在发现提交信息中的文件状态一致时会进行引用，可以发现这次的文件状态的40位值跟一开始的40位值是一样的。
```

总结：

Git 中做删除操作，其中本质就是文件状态不指向存储的文件了，本质上就是意味着并没有将文件真正的删除，文件依旧保存在仓库当中，只是历史操作过程中的文件，在最新的操作中并没有该文件，因为Git 关联不上该文件。

## 5.3 分支操作

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683042307278-1b022e4a-3901-48c2-bf76-290c2245c442.png)

不同的分支就指向不同的版本，互不干扰。分支本质上并没有产生备份的仓库，而是在当前的提交信息中产生新的提交，分支引用不同文件来实现。

开发人员切换分支的时候，Git 会对仓库代码进行实时的变更。Git 会从仓库当中把对应的版本的文件提取出来，存储到代码仓库中。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683126203214-bf63dbbc-3be4-41a1-aa22-d826a556f4a0.png)

# 6 Git 命令

## 6.1 介绍

Git 拥有三个区域：工作区域，暂存区（用于比对文件），存储区域。不同的区域所对应的Git 的功能是不一样的，即文件的状态也是不一样的。文件状态需要通过Git 的指令来完成。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683126691196-7bee7bf7-a2de-4122-9a7a-893c48d8c480.png)

- 远程仓库没有内容，而本地仓库有内容并且要推送到远程仓库：git publish
- 文件状态的变化：工作区域→git add→暂存区，暂存区→git commit→存储区域
- 远程仓库有文件的变化，需要拉取到本地仓库：git pull
- 本地仓库有文件的变化，需要推送到远程仓库：git push

## 6.2 仓库操作

```shell
# 查看Git 的版本号
$ git -v
git version 2.40.0.windows.1
```

创建本地仓库

```bash
# 创建空目录并进入到空目录中
$ mkdir -p local-rep-1 && cd local-rep-1/

# 进行Git仓库初始化
$ git init
Initialized empty Git repository in E:/10.Git Information/test/local-rep-1/.git/

# 查看初始化文件列表
$ ls -al .git/
total 11
drwxr-xr-x 1 Administrator 197121   0 May  7 19:59 ./
drwxr-xr-x 1 Administrator 197121   0 May  7 19:59 ../
-rw-r--r-- 1 Administrator 197121  23 May  7 19:59 HEAD
-rw-r--r-- 1 Administrator 197121 112 May  7 19:59 config
-rw-r--r-- 1 Administrator 197121  73 May  7 19:59 description
drwxr-xr-x 1 Administrator 197121   0 May  7 19:59 hooks/
drwxr-xr-x 1 Administrator 197121   0 May  7 19:59 info/
drwxr-xr-x 1 Administrator 197121   0 May  7 19:59 objects/
drwxr-xr-x 1 Administrator 197121   0 May  7 19:59 refs/

$ cat .git/HEAD
ref: refs/heads/master
```

GitHub Desktop 的功能会比 Git 命令初始化的功能更丰富（GitHub Desktop 会创建目录时自动进行一次提交）

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683461632058-0b31f48b-d94c-42e8-882d-ceb56caa218c.png)

克隆远程仓库

```shell
# 克隆远程仓库
$ git clone git@github.com:Dragon-zw/git-study.git
Cloning into 'git-study'...
remote: Enumerating objects: 3, done.
remote: Counting objects: 100% (3/3), done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Receiving objects: 100% (3/3), done.

# 进入到仓库目录并查看文件列表
$ cd git-study/ && ls -al
total 9
drwxr-xr-x 1 Administrator 197121 0 May  7 20:19 ./
drwxr-xr-x 1 Administrator 197121 0 May  7 20:19 ../
drwxr-xr-x 1 Administrator 197121 0 May  7 20:19 .git/
-rw-r--r-- 1 Administrator 197121 6 May  7 20:19 test.txt

# 可以在克隆远程仓库时修改目录名
$ git clone git@github.com:Dragon-zw/git-study.git remote-git-rep
Cloning into 'remote-git-rep'...
remote: Enumerating objects: 3, done.
remote: Counting objects: 100% (3/3), done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Receiving objects: 100% (3/3), done.

$ ls -l remote-git-rep && cd remote-git-rep/
total 1
-rw-r--r-- 1 Administrator 197121 6 May  7 20:21 test.txt

# 需要对仓库进行配置(针对的是某一个仓库)
$ git config user.name kubesphere
$ git config user.email 935523993@qq.com
$ cat .git/config
[core]
        repositoryformatversion = 0
        filemode = false
        bare = false
        logallrefupdates = true
        ignorecase = true
[remote "origin"]
        url = git@github.com:Dragon-zw/git-study.git
        fetch = +refs/heads/*:refs/remotes/origin/*
[branch "main"]
        remote = origin
        merge = refs/heads/main
[user]
        name = kubesphere
        email = 935523993@qq.com

# 需要对仓库进行配置(针对的是每一个仓库：全局配置)
$ git config --global user.name kubesphere
$ git config --global user.email 935523993@qq.com

# Windows的Git全局配置文件
# C:\Users\Administrator\.gitconfig
```

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683462410597-9f48cd0e-25ec-47ed-ba5e-8d174af62a17.png)

在 GitHub Desktop 的Repository选项卡中就可以查看Git config的设置进行相应的配置

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683462468088-bd6a761a-dd34-4394-987f-172cd2861415.png)

## 6.3 文件操作

### 6.3.1 基本文件操作

```shell
# 查看Git的状态（即暂存区的状态）
$ git status
On branch master

No commits yet

nothing to commit (create/copy files and use "git add" to track)

# 添加一个文件并再次查看暂存区的状态
$ echo 'aaa' > a.txt
$ git status
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        a.txt

nothing added to commit but untracked files present (use "git add" to track)

# 将文件存放到暂存区，git add 是支持通配符的操作
$ git add a.txt
warning: in the working copy of 'a.txt', LF will be replaced by CRLF the next time Git touches it
$ git status
On branch master

No commits yet

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)
        new file:   a.txt

# 可以将暂存区的文件移除，即恢复到工作区中
$ git rm --cached a.txt
rm 'a.txt'
# 查看暂存区的状态
$ git status
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        a.txt

nothing added to commit but untracked files present (use "git add" to track)
# 将a.txt存放到暂存区中，进行后续的测试

# 将暂存区的文件存放到仓库当中
$ git commit -m '新增文件' -s
[master (root-commit) c840739] 新增文件
 1 file changed, 1 insertion(+)
 create mode 100644 a.txt
# 查看暂存区的状态
$ git status
On branch master
nothing to commit, working tree clean
```

范例：

```shell
$ echo 'bbb' > b.txt
# 通过对比功能就可以识别哪些文件内容进行了操作
# 将工作区文件存放到暂存区中
$ git add *

# 将暂存区中的文件提交到本地仓库中
$ git commit -s -m '新增文件'
[master cc906fa] 新增文件
 1 file changed, 1 insertion(+)
 create mode 100644 b.txt

# 查看暂存区的状态
$ git status
On branch master
nothing to commit, working tree clean

# 查看提交的历史
$ git log
commit cc906fa58cd00469c445f66ef0dc552b6479bfba (HEAD -> master)
Author: kubesphere <935523993@qq.com>
Date:   Sun May 7 21:02:02 2023 +0800

    新增文件

    Signed-off-by: kubesphere <935523993@qq.com>

commit c84073983858644511f23ff94365fea4446936a6
Author: kubesphere <935523993@qq.com>
Date:   Sun May 7 20:59:58 2023 +0800

    新增文件

    Signed-off-by: kubesphere <935523993@qq.com>

# 使用一行来显示提交的信息
$ git log --oneline
cc906fa (HEAD -> master) 新增文件
c840739 新增文件
```

### 6.3.2 追加文件内容并提交

```shell
# 追加文件内容
$ echo 'kubesphere' >> a.txt
$ git status
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   a.txt

no changes added to commit (use "git add" and/or "git commit -a")

$ git add a.txt
warning: in the working copy of 'a.txt', LF will be replaced by CRLF the next time Git touches it

$ git commit -s -m '修改文件内容'
[master e7232ab] 修改文件内容
 1 file changed, 1 insertion(+)

$ git log --oneline
e7232ab (HEAD -> master) 修改文件内容
cc906fa 新增文件
c840739 新增文件
```

### 6.3.3 删除文件并提交

```shell
$ rm -rf b.txt

$ git status
On branch master
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        deleted:    b.txt

no changes added to commit (use "git add" and/or "git commit -a")

$ git add b.txt

$ git commit -s -m '删除文件'
[master 5613c54] 删除文件
 1 file changed, 1 deletion(-)
 delete mode 100644 b.txt

$ git log --oneline
5613c54 (HEAD -> master) 删除文件
e7232ab 修改文件内容
cc906fa 新增文件
c840739 新增文件
```

### 6.3.4 误删除文件并提交

```shell
$ mkdir -p local-rep-2 && cd local-rep-2
# 进行Git仓库的初始化
$ git init
Initialized empty Git repository in E:/10.Git Information/test/local-rep-2/.git/

# 新增文件
$ echo 'a content' > a.txt
# 将文件从工作区存放到暂存区
$ git add .
warning: in the working copy of 'a.txt', LF will be replaced by CRLF the next time Git touches it
# 将暂存区的文件提交到本地仓库中
$ git commit -s -m '新增文件'
[master (root-commit) 09aee32] 新增文件
 1 file changed, 1 insertion(+)
 create mode 100644 a.txt
# 查看Git暂存区的状态
$ git status
On branch master
nothing to commit, working tree clean
# 误删除文件
$ rm -rf a.txt
# 进行Git的恢复操作
$ git restore a.txt
# 再次查看文件是否存放
$ ls
a.txt
# 若删除了文件进行了提交
$ rm -rf a.txt && git add a.txt && git commit -s -m '误删除文件测试'
[master c6ed4eb] 误删除文件测试
 1 file changed, 1 deletion(-)
 delete mode 100644 a.txt

# 进行Git的恢复操作失败
$ git restore a.txt
error: pathspec 'a.txt' did not match any file(s) known to git

# 将当前的版本库进行重置操作
$ $ git reset --hard 09aee32
HEAD is now at 09aee32 新增文件

$ ls && cat a.txt
a.txt
a content

# Git reset操作会将Git的历史提交过程会丢失
$ git log --oneline
09aee32 (HEAD -> master) 新增文件
# 若删除了文件进行了提交
$ rm -rf a.txt && git add a.txt && git commit -s -m '误删除文件测试'
[master 6b69e67] 误删除文件测试
 1 file changed, 1 deletion(-)
 delete mode 100644 a.txt

# 将当前版本进行还原操作，还原到最近一次提交之前的版本
$ git log --oneline
6b69e67 (HEAD -> master) 误删除文件测试
09aee32 新增文件

$ git revert 6b69e67
[master fe1e48d] Revert "误删除文件测试"
 1 file changed, 1 insertion(+)
 create mode 100644 a.txt

$ ls && cat a.txt
a.txt
a content

# 还原操作会生成一次新的提交记录
$ git log --oneline
fe1e48d (HEAD -> master) Revert "误删除文件测试"
6b69e67 误删除文件测试
09aee32 新增文件
```

## 6.4 分支操作

### 6.4.1 基本分支操作

```shell
$ mkdir -p local-rep-3 && cd local-rep-3
# Git进行初始化
$ git init
Initialized empty Git repository in E:/10.Git Information/test/local-rep-3/.git/
# 创建一次分支，但是Git初始化需要一次提交操作才能进行创建分支
$ git branch user
fatal: not a valid object name: 'master'

$ echo 'a content' > a.txt
$ git add . && git commit -s -m '提交文件'
warning: in the working copy of 'a.txt', LF will be replaced by CRLF the next time Git touches it
[master (root-commit) 2628c48] 提交文件
 1 file changed, 1 insertion(+)
 create mode 100644 a.txt

# 重新创建分支
$ git branch user

# 查看分支
$ git branch -v
* master 2628c48 提交文件 # * 指的是当前的分支
  user   2628c48 提交文件

# 切换分支
$ git checkout user
Switched to branch 'user'

# 查看分支
$ git branch -v
  master 2628c48 提交文件
* user   2628c48 提交文件

# 创建分支并切换到分支(一步操作)
$ git checkout -b order
Switched to a new branch 'order'

$ git branch -v
  master 2628c48 提交文件
* order  2628c48 提交文件
  user   2628c48 提交文件

# 删除分支
$ git branch -d user
Deleted branch user (was 2628c48).

$ git branch -v
  master 2628c48 提交文件
* order  2628c48 提交文件
```

### 6.4.2 合并和冲突

```shell
# 新建文件
$ echo 'b content' > b.txt

# 将文件进行提交
$ git add . && git commit -s -m '添加新文件' && git log --oneline
warning: in the working copy of 'b.txt', LF will be replaced by CRLF the next time Git touches it
[order 4f6b73d] 添加新文件
 1 file changed, 1 insertion(+)
 create mode 100644 b.txt
4f6b73d (HEAD -> order) 添加新文件
2628c48 (master) 提交文件

$ git branch -v
  master 2628c48 提交文件
* order  4f6b73d 添加新文件

#####################################################################################################
# 需要切换到主分支进行合并
$ git checkout master
Switched to branch 'master'

# 新建文件
$ echo 'c content' > c.txt
# 将文件进行提交
$ git add . && git commit -s -m '提交c.txt文件'
warning: in the working copy of 'c.txt', LF will be replaced by CRLF the next time Git touches it
[master a07bee2] 提交c.txt文件
 1 file changed, 1 insertion(+)
 create mode 100644 c.txt
# 查看文件列表
$ ls
a.txt  c.txt

#####################################################################################################
$ git checkout order
Switched to branch 'order'

$ ls
a.txt  b.txt
# 创建新文件
$ echo 'new c content' > c.txt
$ git add .
warning: in the working copy of 'c.txt', LF will be replaced by CRLF the next time Git touches it
$ git commit -s -m '新增C文件'
[order 3e05675] 新增C文件
 1 file changed, 1 insertion(+)
 create mode 100644 c.txt

#####################################################################################################
# 需要切换到主分支进行合并
$ git checkout master
Switched to branch 'master'
$ ls
a.txt  c.txt
# 合并进行发生冲突
$ git merge order
Auto-merging c.txt
CONFLICT (add/add): Merge conflict in c.txt
Automatic merge failed; fix conflicts and then commit the result.

# 查看c.txt文件内容
$ cat c.txt
<<<<<<< HEAD
c content
=======
new c content
>>>>>>> order

# 对该c.txt进行修改即可
Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local-rep-3 (master|MERGING)
$ vim c.txt
c content
new c content

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local-rep-3 (master|MERGING)
$ git add c.txt

Administrator@Dragonzw MINGW64 /e/10.Git Information/test/local-rep-3 (master|MERGING)
$ git commit -s -m '全新C文件'
[master b19f458] 全新C文件

$ git branch -v
* master b19f458 全新C文件
  order  3e05675 新增C文件
```

## 6.5 标签操作

范例：前提环境

```shell
# 创建测试目录
$ mkdir -p local-rep-4 && cd local-rep-4

# Git 初始化
$ git init
Initialized empty Git repository in E:/10.Git Information/test/local-rep-4/.git/

# 创建测试文件并提交到本地仓库
$ echo 'aaa' > a.txt
$ git add . && git commit -s -m '新增a.txt'
warning: in the working copy of 'a.txt', LF will be replaced by CRLF the next time Git touches it
[master (root-commit) c3b199a] 新增a.txt
 1 file changed, 1 insertion(+)
 create mode 100644 a.txt

# 修改测试文件并提交到本地仓库
$ echo 'bbb' >> a.txt
$ git add . && git commit -s -m '修改a.txt内容'
warning: in the working copy of 'a.txt', LF will be replaced by CRLF the next time Git touches it
[master f0a5dd9] 修改a.txt内容
 1 file changed, 1 insertion(+)

# 创建测试文件并提交到本地仓库
$ echo 'bbb' > b.txt
$ git add b.txt && git commit -s -m '新增b.txt'
warning: in the working copy of 'b.txt', LF will be replaced by CRLF the next time Git touches it
[master d2fe332] 新增b.txt
 1 file changed, 1 insertion(+)
 create mode 100644 b.txt

# 查看提交记录
$ git log --oneline
d2fe332 (HEAD -> master) 新增b.txt
f0a5dd9 修改a.txt内容
c3b199a 新增a.txt

# 查看某一个版本的历史记录
$ git log f0a5dd9
commit f0a5dd91bfcf998bab3589e7098bf298bfb2b82b
Author: kubesphere <935523993@qq.com>
Date:   Sun May 7 23:11:15 2023 +0800

    修改a.txt内容

    Signed-off-by: kubesphere <935523993@qq.com>

commit c3b199a9cac93799ba9382d7b3ef2b59b7267871
Author: kubesphere <935523993@qq.com>
Date:   Sun May 7 23:10:49 2023 +0800

    新增a.txt

    Signed-off-by: kubesphere <935523993@qq.com>
```

范例：对当前提交版本打标签（增加别名）

```shell
$ git tag updatefile f0a5dd9

# 查看标签
$ git tag
updatefile

# 通过标签查看提交记录信息
$ git log updatefile
commit f0a5dd91bfcf998bab3589e7098bf298bfb2b82b (tag: updatefile)
Author: kubesphere <935523993@qq.com>
Date:   Sun May 7 23:11:15 2023 +0800

    修改a.txt内容

    Signed-off-by: kubesphere <935523993@qq.com>

commit c3b199a9cac93799ba9382d7b3ef2b59b7267871
Author: kubesphere <935523993@qq.com>
Date:   Sun May 7 23:10:49 2023 +0800

    新增a.txt

    Signed-off-by: kubesphere <935523993@qq.com>

# 可以给每一个提交记录添加标签，但是要符合唯一性
$ git log --oneline
d2fe332 (HEAD -> master) 新增b.txt
f0a5dd9 (tag: updatefile) 修改a.txt内容
c3b199a 新增a.txt

# 删除标签
$ git tag -d updatefile
Deleted tag 'updatefile' (was f0a5dd9)

$ git log --oneline
d2fe332 (HEAD -> master) 新增b.txt
f0a5dd9 修改a.txt内容
c3b199a 新增a.txt
```

在 GitHub Desktop 工具中就可以可视化的执行添加标签，并且可以通过 Git 命令查看Tag信息

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683473115697-097b3215-4586-4428-a601-c0389b8bc930.png)

范例：通过标签创建分支

```shell
$ git log --oneline
d2fe332 (HEAD -> master) 新增b.txt
f0a5dd9 (tag: updatefile) 修改a.txt内容
c3b199a 新增a.txt

# 通过标签创建分支并切换分支
$ git checkout -b updatefile
Switched to a new branch 'updatefile'
```

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683473318848-a93417a6-bc90-4b3b-ae89-cedb6ea0ed75.png)

## 6.6 远程仓库

```shell
# 克隆远程仓库
$ git clone git@github.com:Dragon-zw/git-sample.git
Cloning into 'git-sample'...
remote: Enumerating objects: 7, done.
remote: Counting objects: 100% (7/7), done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 7 (delta 0), reused 3 (delta 0), pack-reused 0
Receiving objects: 100% (7/7), done.

# 进入到仓库目录并查看文件列表
$ cd git-sample/ && ls -al
total 13
drwxr-xr-x 1 Administrator 197121    0 May  8 22:58 ./
drwxr-xr-x 1 Administrator 197121    0 May  8 22:58 ../
drwxr-xr-x 1 Administrator 197121    0 May  8 22:58 .git/
-rw-r--r-- 1 Administrator 197121 1087 May  8 22:58 LICENSE
-rw-r--r-- 1 Administrator 197121  308 May  8 22:58 README.md

# 查看Git的配置文件内容
$ cat .git/config
[core]
        repositoryformatversion = 0
        filemode = false
        bare = false
        logallrefupdates = true
        ignorecase = true
[remote "origin"]
      	# 这是Git ssh的方式(需要提供安全认证功能的)
        url = git@github.com:Dragon-zw/git-sample.git
      	# 这是Git https的方式
        # url = https://github.com/Dragon-zw/git-sample.git
        fetch = +refs/heads/*:refs/remotes/origin/*
[branch "main"]
        remote = origin
        merge = refs/heads/main

# 可以通过命令来增加远程仓库地址
$ git remote add origin https://github.com/Dragon-zw/git-sample.git
# 可以通过命令来删除远程仓库地址
$ git remote remove origin
# 可以通过命令来改名远程仓库地址
$ git remote rename origin neworigin
```

范例：

```shell
$ echo 'test git page' > test-git.txt

$ git add test-git.txt
warning: in the working copy of 'test-git.txt', LF will be replaced by CRLF the next time Git touches it

$ git commit -s -m '新增test-git.txt文件'
[main 8584e01] 新增test-git.txt文件
 1 file changed, 1 insertion(+)
 create mode 100644 test-git.txt

# 将本地仓库推送到远程仓库
$ git push origin
Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Delta compression using up to 16 threads
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 366 bytes | 366.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
To github.com:Dragon-zw/git-sample.git
   fbd15c6..8584e01  main -> main
```

若使用 ssh 进行Git的操作，并且提示`Permission denied`则需要进行安全认证

```shell
$ ssh-keygen -t rsa -C git@github.com:Dragon-zw/git-sample.git
# 一路默认操作即可

# C:\Users\Administrator\.ssh 可以查看到ssh的证书文件
# id_rsa.pub 可以查看到安全认证内容(拷贝)
```

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683558688901-f8d89219-de6b-429c-9999-926ab1fcd1dc.png)

可以在 GitHub 就可以查看到最新推送的文件了

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683558835231-17cd4137-00c8-44c9-88dc-1cc3dbdd147d.png)

可以在 GitHub 中进行相应的`test-git.txt`编辑操作

```shell
test git page

# GitHub WebUI Write
GitHub Test git page content
```

远程仓库文件发生了改变，需要本地拉取远程仓库的文件

```shell
$ git pull origin
remote: Enumerating objects: 5, done.
remote: Counting objects: 100% (5/5), done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 3 (delta 1), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), 686 bytes | 9.00 KiB/s, done.
From github.com:Dragon-zw/git-sample
   8584e01..61118bd  main       -> origin/main
Updating 8584e01..61118bd
Fast-forward
 test-git.txt | 3 +++
 1 file changed, 3 insertions(+)

$ cat test-git.txt
test git page

# GitHub WebUI Write
GitHub Test git page content
```

# 7 Git - GitLab

GitLab是由GitLabInc开发，使用MIT许可证的基于网络的Git仓库管理工具，且具有wiki和issue跟踪功能。使用Git作为代码管理工具，并在此基础上搭建起来的Web服务。

GitLib由乌克兰程序员DmitriyZaporozhets和ValerySizov开发，它使用Ruby语言写成。后来，一些部分用Go语言重写。GitLab 被 IBM，Sony，JulichResearchCenter，NASA，Alibab，Invincea，O'ReillyMedia，Leibniz-Rechenzentrum(LRZ)，CERN，SpaceX等组织使用。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683559072506-047ac31c-87cc-426a-9c41-45e7a3337081.png)

下载地址：`https://packages.gitlab.com/gitlab/gitlab-ce`

如果下载不了，或下载比较慢，可以根据提示在在`linux`系统中直接采用`wget`指令下载

## 7.1 安装GitLab以及相应的依赖项

```shell
sudo rpm -ivh /opt/gitlab-ce-15.7.0-ce.0.el7.x86_64.rpm
```

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683559970582-f1382387-1fa0-4287-a540-a0e96bef1346.png)

安装GitLab相应的依赖项

```shell
sudo yum install -y curl policycoreutils-python openssh-server perl

sudo systemctl enable sshd
sudo systemctl start sshd

sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo systemctl reload firewalld

# 为了演示方便，我们也可以直接关闭防火墙
sudo systemctl stop firewalld
```

## 7.2 初始化GitLab

```shell
# 配置软件镜像
curl -fsSL https://packages.gitlab.cn/repository/raw/scripts/setup.sh | /bin/bash
# 安装
# EXTERNAL_URL 需要设置为机器主机名
sudo EXTERNAL_URL="https://gitlab.kubesphere.com" yum install -y gitlab-ce
# 初始化
sudo gitlab-ctl reconfigure
```

## 7.3 启动GitLab

```shell
# 启动GitLab
gitlab-ctl start
# 停止GitLab
gitlab-ctl stop
```

## 7.4 访问GitLab WebUI

使用浏览器访问GitLab，输入网址：`http://gitlab.kubesphere.com/users/sign_in`[ 需要将GitLab服务器的IP地址以及设置的主机名的映射关系写入到`/etc/hosts`文件中 ]

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683560619490-3a65e094-2a4e-4ebe-8777-683d88c5182d.png)

初始化时，软件会提供默认管理员账户：root，但是密码是随机生成的。

根据提示，在`/etc/gitlab/initial_root_password`文件中查找密码

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683560730638-529ddb0b-22d3-4b64-ac10-20caa89d750c.png)

输入账号，密码，进入系统后第一时间重置初始化密码

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683560787715-963cf4bc-73dd-457d-b815-b3df9911be9c.png)

## 7.5 GitLab 创建项目

创建GitLab的项目"Create blank project"

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683560924697-c6d1eda6-1a5f-48e5-bf08-c11c628d564a.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683560972715-388091f5-6804-4289-b41a-e3aa54fe163c.png)

## 7.6 IDEA集成GitLab

使用 IDEA 集成 GitLab [ IDEA需要安装GitLab Projects插件 ] 并创建空项目

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683561095016-f4a7b55e-8455-47d1-a453-7a799784d7f5.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683561894112-d75890e5-5667-4cfa-826f-be2ed2b8e6f7.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683561985467-51176a96-05bd-439c-8012-bf731cfc70b2.png)

进行相应的文件提交，并将URL设置为GitLab的域名（需要相应的调整）

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683562080631-c06be43f-2af5-49d3-a610-900115cc3240.png)

会发现GitLab的 main 分支是没有发生变化，而提交时使用的是 master 分支

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683562185530-782d7d43-39d0-42b3-87cb-9f129f623933.png)

使用 GitLab WebUI 对上传的文件进行修改后提交，IDEA 则进行拉取远程仓库中的最新文件

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683562339134-c26ed2e7-ccb6-4f45-9370-ea7f72508e1d.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683562430966-d24231aa-7dcd-4139-9885-59f57aeb78c0.png)

# 8 Git 总结

Git 的基本功能和操作均已实现，其中包括Git使用过程中基本的概念和使用。在实际的项目开发中，主要还是使用开发工具集成Git的功能，来完成项目代码的编写和管理。

使用客户端工具对 Git 仓库进行操作，其中重要的是仓库的创建，文件的处理以及分支 | 远程仓库的处理。版本号是 Git 的核心，是Git 的实现原理就基本上了解了。

![img](https://cdn.nlark.com/yuque/0/2023/png/2555283/1683473551159-06c9f22f-5f49-44c8-9cc8-6884bcd062a5.png)

Git 拥有庞大的帮助信息资源，可以通过学习这些资源掌握的Git的用法

Reference：https://git-scm.com/doc